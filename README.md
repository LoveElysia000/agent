# å¤©æ°”é¢„æŠ¥Agent

åŸºäºŽLangChainæ¡†æž¶æž„å»ºçš„æ™ºèƒ½å¤©æ°”é¢„æŠ¥åŠ©æ‰‹ï¼Œä½¿ç”¨Qwen3-Maxæ¨¡åž‹å’ŒOpenWeatherMap APIï¼Œæä¾›ç²¾å‡†çš„å¤©æ°”æŸ¥è¯¢å’Œé¢„æµ‹æœåŠ¡ã€‚

## ðŸŒ¤ï¸ åŠŸèƒ½ç‰¹æ€§

- **æ™ºèƒ½å¯¹è¯**: åŸºäºŽQwen3-Maxå¤§è¯­è¨€æ¨¡åž‹ï¼Œç†è§£è‡ªç„¶è¯­è¨€æŸ¥è¯¢
- **å®žæ—¶å¤©æ°”**: é›†æˆOpenWeatherMap APIï¼ŒèŽ·å–å…¨çƒå®žæ—¶å¤©æ°”æ•°æ®
- **å¤šè¯­è¨€æ”¯æŒ**: æ”¯æŒä¸­æ–‡å’Œè‹±æ–‡æŸ¥è¯¢ä¸Žå›žå¤
- **å…¨çƒè¦†ç›–**: æ”¯æŒå…¨çƒä¸»è¦åŸŽå¸‚å¤©æ°”æŸ¥è¯¢ï¼ŒåŒ…æ‹¬ä¸­å›½300+åŸŽå¸‚å’Œå›½é™…åŸŽå¸‚
- **å¤©æ°”é¢„æŠ¥**: æä¾›å½“å‰å¤©æ°”çŠ¶å†µå’Œæœªæ¥å¤©æ°”é¢„æŠ¥
- **åŸŽå¸‚æ¯”è¾ƒ**: å¯¹æ¯”å¤šä¸ªåŸŽå¸‚çš„å¤©æ°”çŠ¶å†µï¼Œæä¾›åˆ†æžæ€»ç»“
- **å¤©æ°”å»ºè®®**: åŸºäºŽå¤©æ°”æƒ…å†µç»™å‡ºæ´»åŠ¨å’Œå‡ºè¡Œå»ºè®®
- **å‘½ä»¤è¡ŒæŽ¥å£**: æ”¯æŒå¤šç§å‘½ä»¤è¡Œæ¨¡å¼ï¼Œè„šæœ¬åŒ–ä½¿ç”¨
- **è§†è§‰è¾“å‡º**: ä½¿ç”¨è¡¨æƒ…å›¾æ ‡å¢žå¼ºå¯è¯»æ€§å’Œç”¨æˆ·ä½“éªŒ
- **ç»“æž„åŒ–é¢„æŠ¥**: æ¯å¤©æä¾›ä¸Šåˆã€ä¸‹åˆã€æ™šä¸Šä¸‰ä¸ªæ—¶æ®µçš„æ¸…æ™°é¢„æŠ¥
- **äº¤äº’å¼ç•Œé¢**: å‹å¥½çš„ç»ˆç«¯äº¤äº’ç•Œé¢ï¼ˆé»˜è®¤æ¨¡å¼ï¼‰

## ðŸš€ å¿«é€Ÿå¼€å§‹

### çŽ¯å¢ƒè¦æ±‚

- Python 3.8+
- pipåŒ…ç®¡ç†å™¨

### å®‰è£…ä¾èµ–

```bash
pip install langchain langchain-community langchain-openai requests python-dotenv openai httpx
```

### APIå¯†é’¥é…ç½®

1. **èŽ·å–OpenWeatherMap APIå¯†é’¥**
   - è®¿é—® [OpenWeatherMap](https://openweathermap.org/api) æ³¨å†Œè´¦å·
   - èŽ·å–å…è´¹çš„APIå¯†é’¥ï¼ˆå…è´¹ç‰ˆæ”¯æŒ1000æ¬¡/å¤©è°ƒç”¨ï¼‰

2. **èŽ·å–Qwen APIå¯†é’¥**
   - è®¿é—® [Alibaba Cloud DashScope](https://dashscope.aliyuncs.com/) 
   - åˆ›å»ºè´¦æˆ·å¹¶èŽ·å–APIå¯†é’¥

3. **é…ç½®çŽ¯å¢ƒå˜é‡**
   åˆ›å»º `.env` æ–‡ä»¶ï¼Œå¡«å…¥æ‚¨çš„APIå¯†é’¥ï¼š
   ```bash
   cat > .env << 'EOF'
# å¤©æ°”é¢„æŠ¥Agenté…ç½®æ–‡ä»¶

# OpenWeatherMap APIå¯†é’¥
OPENWEATHERMAP_API_KEY=your_openweather_api_key_here

# Qwen3-Maxæ¨¡åž‹é…ç½®
QWEN_API_BASE=https://dashscope.aliyuncs.com/compatible-mode/v1
QWEN_API_KEY=your_qwen_api_key_here

# åº”ç”¨é…ç½®
DEFAULT_CITY=Beijing
LANGUAGE=zh
EOF
   ```
```
### è¿è¡Œåº”ç”¨

#### äº¤äº’æ¨¡å¼ï¼ˆé»˜è®¤ï¼‰
```bash
python3 main.py
```

#### å‘½ä»¤è¡Œæ¨¡å¼
```bash
# æŸ¥è¯¢å•ä¸ªåŸŽå¸‚å¤©æ°”
python3 main.py åŒ—äº¬

# æŸ¥è¯¢å¤šå¤©å¤©æ°”é¢„æŠ¥
python3 main.py --days 3 ä¸Šæµ·

# æ¯”è¾ƒä¸¤ä¸ªåŸŽå¸‚å¤©æ°”
python3 main.py --compare å¹¿å·ž åŒ—äº¬

# èŽ·å–å¤©æ°”å»ºè®®
python3 main.py --query "ä»Šå¤©é€‚åˆæˆ·å¤–è¿åŠ¨å—ï¼Ÿ" åŒ—äº¬

# æ˜¾ç¤ºå¸®åŠ©ä¿¡æ¯
python3 main.py --help
```

## ðŸ“‹ ä½¿ç”¨æ–¹æ³•

### å‘½ä»¤è¡Œæ¨¡å¼

#### å•åŸŽå¸‚æŸ¥è¯¢
```bash
# æŸ¥è¯¢å½“å‰å¤©æ°”
python3 main.py åŒ—äº¬

# æŸ¥è¯¢è‹±æ–‡åŸŽå¸‚
python3 main.py London
```

#### å¤šå¤©é¢„æŠ¥
```bash
# æŸ¥è¯¢æœªæ¥3å¤©é¢„æŠ¥
python3 main.py --days 3 ä¸Šæµ·

# æŸ¥è¯¢æœªæ¥5å¤©é¢„æŠ¥  
python3 main.py --days 5 Beijing
```

#### åŸŽå¸‚æ¯”è¾ƒ
```bash
# æ¯”è¾ƒä¸¤ä¸ªåŸŽå¸‚çš„å¤©æ°”
python3 main.py --compare å¹¿å·ž åŒ—äº¬
python3 main.py --compare "New York" London
```

#### å¤©æ°”å»ºè®®
```bash
# èŽ·å–åŸºäºŽå¤©æ°”çš„å»ºè®®
python3 main.py --query "ä»Šå¤©é€‚åˆæˆ·å¤–è¿åŠ¨å—ï¼Ÿ" åŒ—äº¬
python3 main.py --query "éœ€è¦å¸¦é›¨ä¼žå—" ä¸Šæµ·
python3 main.py --query "What should I wear today?" Tokyo
```

### äº¤äº’æ¨¡å¼

è¿è¡Œ `python3 main.py` (ä¸æ·»åŠ ä»»ä½•å‚æ•°) è¿›å…¥äº¤äº’æ¨¡å¼ï¼š

#### åŸºç¡€æŸ¥è¯¢
```
åŒ—äº¬å¤©æ°”
ä¸Šæµ·çŽ°åœ¨çš„å¤©æ°”æ€Žä¹ˆæ ·
çº½çº¦æ¸©åº¦
```

#### é«˜çº§æŸ¥è¯¢
```
ä¸Šæµ·ä»Šå¤©ä¼šä¸‹é›¨å—
åŒ—äº¬æœªæ¥ä¸‰å¤©çš„å¤©æ°”é¢„æŠ¥
ä¸œäº¬æ˜Žå¤©å¤©æ°”å¦‚ä½•
```

#### è‹±æ–‡æŸ¥è¯¢
```
What's the weather in London?
Weather forecast for Paris tomorrow
Will it rain in Tokyo next week?
```

## ðŸ“ é¡¹ç›®ç»“æž„

```
weather/
â”œâ”€â”€ .env                    # çŽ¯å¢ƒé…ç½®æ–‡ä»¶
â”œâ”€â”€ main.py                 # ä¸»åº”ç”¨ç¨‹åºå…¥å£
â”œâ”€â”€ model_config.py         # Qwenæ¨¡åž‹é…ç½®
â”œâ”€â”€ weather_tools.py        # OpenWeatherMap APIå·¥å…·
â”œâ”€â”€ weather_agent.py        # LangChain Agentæ ¸å¿ƒé€»è¾‘
â”œâ”€â”€ .venv/                  # Pythonè™šæ‹ŸçŽ¯å¢ƒ
â”œâ”€â”€ __pycache__/            # Pythonç¼“å­˜æ–‡ä»¶
â”œâ”€â”€ test_weather.py         # åŠŸèƒ½æµ‹è¯•è„šæœ¬
â””â”€â”€ README.md              # é¡¹ç›®è¯´æ˜Žæ–‡æ¡£
```

## ðŸ”§ æ ¸å¿ƒç»„ä»¶

### å‘½ä»¤è¡ŒæŽ¥å£
æ–°å¢žçš„å‘½ä»¤è¡ŒæŽ¥å£æ”¯æŒå¤šç§æ¨¡å¼ï¼š
- **å•åŸŽå¸‚æ¨¡å¼**: æŸ¥è¯¢å•ä¸ªåŸŽå¸‚å½“å‰å¤©æ°” (`main.py åŸŽå¸‚å`)
- **å¤šå¤©é¢„æŠ¥æ¨¡å¼**: æŸ¥è¯¢åŸŽå¸‚æœªæ¥å¤©æ°” (`--days` å‚æ•°)
- **åŸŽå¸‚æ¯”è¾ƒæ¨¡å¼**: æ¯”è¾ƒä¸¤ä¸ªåŸŽå¸‚çš„å¤©æ°” (`--compare` å‚æ•°)  
- **é—®ç­”æ¨¡å¼**: åŸºäºŽå¤©æ°”ç»™å‡ºå»ºè®® (`--query` å‚æ•°)
- **äº¤äº’æ¨¡å¼**: ä¼ ç»Ÿäº¤äº’ç•Œé¢ (é»˜è®¤æ¨¡å¼)

### WeatherAgent
æ™ºèƒ½å¤©æ°”é¢„æŠ¥ä»£ç†ï¼ŒåŒ…å«ï¼š
- è‡ªç„¶è¯­è¨€ç†è§£
- å·¥å…·è°ƒç”¨å†³ç­–
- å“åº”ç”Ÿæˆ

### WeatherTools
å¤©æ°”æ•°æ®å·¥å…·é›†ï¼š
- `get_current_weather()`: èŽ·å–å½“å‰å¤©æ°”
- `get_weather_forecast()`: èŽ·å–å¤©æ°”é¢„æŠ¥

### ModelConfig
Qwen3-Maxæ¨¡åž‹é…ç½®ï¼š
- APIç«¯ç‚¹é…ç½®
- æ¨¡åž‹å‚æ•°è°ƒä¼˜
- é”™è¯¯å¤„ç†æœºåˆ¶

## ðŸ§ª æµ‹è¯•

è¿è¡Œæµ‹è¯•è„šæœ¬éªŒè¯åŠŸèƒ½ï¼š
```bash
python3 test_weather.py
```

## ðŸŒŸ ç¤ºä¾‹è¾“å‡º

```
=== å¤©æ°”é¢„æŠ¥Agent ===
åŸºäºŽQwen3-Maxæ¨¡åž‹å’ŒOpenWeatherMap API
==============================
âœ… å¤©æ°”é¢„æŠ¥Agentåˆå§‹åŒ–æˆåŠŸ

è¯·è¾“å…¥åŸŽå¸‚åç§°æŸ¥è¯¢å¤©æ°” (è¾“å…¥'quit'é€€å‡º):

ðŸŒ¤ï¸  è¯·è¾“å…¥åŸŽå¸‚: åŒ—äº¬å¤©æ°”

==================================================
ðŸ“Š å¤©æ°”é¢„æŠ¥ç»“æžœ:
ðŸŒ¡ï¸ å½“å‰æ¸©åº¦ï¼š25Â°C
ðŸ¤’ ä½“æ„Ÿæ¸©åº¦ï¼š26Â°C  
â˜€ï¸ å¤©æ°”çŠ¶å†µï¼šæ™´è½¬å¤šäº‘
ðŸ’§ æ¹¿åº¦ï¼š65%
ðŸ’¨ é£Žé€Ÿï¼š3.5 m/s
â²ï¸ æ°”åŽ‹ï¼š1012 hPa

å»ºè®®æ‚¨æ ¹æ®å¤©æ°”æƒ…å†µé€‚æ—¶å¢žå‡è¡£ç‰©ã€‚
==================================================

## ðŸŒ å…¨çƒåŸŽå¸‚è¦†ç›–

### ðŸŒ æ”¯æŒçš„åŸŽå¸‚èŒƒå›´

#### ä¸­å›½åŸŽå¸‚ (300+åŸŽå¸‚)
- **ç›´è¾–å¸‚**: åŒ—äº¬ã€ä¸Šæµ·ã€å¤©æ´¥ã€é‡åº†
- **çœä¼šåŸŽå¸‚**: å¹¿å·žã€æ­å·žã€æˆéƒ½ã€æ­¦æ±‰ã€è¥¿å®‰ç­‰
- **ç»æµŽç‰¹åŒº**: æ·±åœ³ã€åŽ¦é—¨ã€ç æµ·ç­‰
- **å…¶ä»–ä¸»è¦åŸŽå¸‚**: è‹å·žã€æ— é”¡ã€å¸¸å·žã€æ¸©å·žã€ä½›å±±ç­‰
- **åœ°çº§å¸‚å…¨è¦†ç›–**: å‡ ä¹Žè¦†ç›–æ‰€æœ‰åœ°çº§å¸‚

#### å›½é™…åŸŽå¸‚
- **äºšæ´²**: ä¸œäº¬(Tokyo)ã€æ–°åŠ å¡(Singapore)ã€é¦–å°”(Seoul)ã€æ›¼è°·(Bangkok)ç­‰
- **æ¬§æ´²**: ä¼¦æ•¦(London)ã€å·´é»Ž(Paris)ã€æŸæž—(Berlin)ã€ç½—é©¬(Rome)ç­‰
- **ç¾Žæ´²**: çº½çº¦(New York)ã€æ´›æ‰çŸ¶(Los Angeles)ã€å¤šä¼¦å¤š(Toronto)ç­‰
- **å¤§æ´‹æ´²**: æ‚‰å°¼(Sydney)ã€å¢¨å°”æœ¬(Melbourne)ã€å¥¥å…‹å…°(Auckland)ç­‰

### ðŸ” åŸŽå¸‚æŸ¥è¯¢ç¤ºä¾‹

#### ä¸­å›½åŸŽå¸‚æŸ¥è¯¢
```bash
python3 main.py åŒ—äº¬
python3 main.py è‹å·ž
python3 main.py "é‡åº†"
```

#### å›½é™…åŸŽå¸‚æŸ¥è¯¢
```bash
python3 main.py Tokyo
python3 main.py "New York"
python3 main.py London
python3 main.py Paris
python3 main.py Sydney
```

#### å¤šè¯­è¨€æ··åˆæŸ¥è¯¢
```bash
# ä¸­æ—¥æ··åˆ
python3 main.py "ä¸œäº¬å¤©æ°”æ€Žä¹ˆæ ·"

# ä¸­è‹±æ··åˆ
python3 main.py "What's the weather in ä¸Šæµ·"

# è‹±æ–‡æŸ¥è¯¢ä¸­æ–‡åŸŽå¸‚
python3 main.py "Beijing weather"
```

### âš ï¸ åŸŽå¸‚åç§°æ³¨æ„äº‹é¡¹
- ä¸­å›½åŸŽå¸‚æ”¯æŒä¸­æ–‡åç§°å’Œæ‹¼éŸ³åç§°
- å›½é™…åŸŽå¸‚å»ºè®®ä½¿ç”¨è‹±æ–‡åç§°
- å¦‚æžœåŸŽå¸‚åŒ…å«ç©ºæ ¼ï¼Œè¯·ä½¿ç”¨å¼•å·åŒ…è£¹
- ç³»ç»Ÿä¼šè‡ªåŠ¨è¯†åˆ«å’Œç¿»è¯‘åŸŽå¸‚åç§°

### ðŸ“Š è§†è§‰è¾“å‡ºä¸Žå›¾æ ‡ç³»ç»Ÿ

å¤©æ°”ä¿¡æ¯æ˜¾ç¤ºçŽ°åœ¨ä½¿ç”¨è¡¨æƒ…å›¾æ ‡å¢žå¼ºå¯è¯»æ€§ï¼š

| å›¾æ ‡ | å«ä¹‰ | æè¿° |
|------|------|------|
| ðŸŒ¡ï¸ | æ¸©åº¦ | å½“å‰å®žé™…æ¸©åº¦ |
| ðŸ¤’ | ä½“æ„Ÿæ¸©åº¦ | äººä½“æ„Ÿè§‰çš„æ¸©åº¦ |
| ðŸ’§ | æ¹¿åº¦ | ç©ºæ°”æ¹¿åº¦ç™¾åˆ†æ¯” |
| ðŸ’¨ | é£Žé€Ÿ | é£ŽåŠ›å¤§å° |
| â²ï¸ | æ°”åŽ‹ | å¤§æ°”åŽ‹åŠ› |
| â˜€ï¸ | æ™´å¤© | æ™´å¥½å¤©æ°” |
| â˜ï¸ | å¤šäº‘ | å¤šäº‘å¤©æ°” |
| ðŸŒ§ï¸ | é›¨å¤© | ä¸‹é›¨å¤©æ°” |
| â„ï¸ | é›ªå¤© | ä¸‹é›ªå¤©æ°” |
| â›ˆï¸ | é›·é›¨ | é›·é›¨å¤©æ°” |

### å‘½ä»¤è¡Œæ¨¡å¼ç¤ºä¾‹è¾“å‡º

#### åŸŽå¸‚æ¯”è¾ƒ
```bash
python3 main.py --compare åŒ—äº¬ ä¸Šæµ·
```

è¾“å‡ºï¼š
```
ðŸ™ï¸  åŸŽå¸‚å¤©æ°”æ¯”è¾ƒç»“æžœ:
æ ¹æ®å½“å‰å¤©æ°”ä¿¡æ¯ï¼ŒåŒ—äº¬å’Œä¸Šæµ·çš„å¤©æ°”æƒ…å†µå¦‚ä¸‹ï¼š

**åŒ—äº¬ï¼š**
ðŸŒ¡ï¸ æ¸©åº¦ï¼š27.83Â°C
ðŸ¤’ ä½“æ„Ÿæ¸©åº¦ï¼š27.17Â°C
â˜ï¸ å¤©æ°”çŠ¶å†µï¼šé˜´ï¼Œå¤šäº‘
ðŸ’§ æ¹¿åº¦ï¼š34%
ðŸ’¨ é£Žé€Ÿï¼š0.34 m/s
â²ï¸ æ°”åŽ‹ï¼š1019 hPa

**ä¸Šæµ·ï¼š**
ðŸŒ¡ï¸ æ¸©åº¦ï¼š35.53Â°C
ðŸ¤’ ä½“æ„Ÿæ¸©åº¦ï¼š42.53Â°C
â˜ï¸ å¤©æ°”çŠ¶å†µï¼šå¤šäº‘
ðŸ’§ æ¹¿åº¦ï¼š52%
ðŸ’¨ é£Žé€Ÿï¼š3.02 m/s
â²ï¸ æ°”åŽ‹ï¼š1014 hPa

**æ€»ç»“ï¼š**
- åŒ—äº¬çš„æ°”æ¸©æ¯”ä¸Šæµ·ä½Žï¼Œä½†æ¹¿åº¦è¾ƒä½Žï¼Œé£Žé€Ÿä¹Ÿè¾ƒå°ã€‚
- ä¸Šæµ·çš„æ°”æ¸©è¾ƒé«˜ï¼Œä¸”æ¹¿åº¦è¾ƒå¤§ï¼Œä½“æ„Ÿæ¸©åº¦æ˜Žæ˜¾é«˜äºŽå®žé™…æ¸©åº¦ï¼Œé£Žé€Ÿä¹Ÿç›¸å¯¹è¾ƒé«˜ã€‚
```

#### å¤©æ°”å»ºè®®
```bash
python3 main.py --query "ä»Šå¤©é€‚åˆæˆ·å¤–è¿åŠ¨å—" åŒ—äº¬
```

è¾“å‡ºï¼š
```
ðŸ’¡ å¤©æ°”å»ºè®®/å›žç­”:
ðŸŒ¡ï¸ å½“å‰æ¸©åº¦ï¼š28.38Â°C  
ðŸ¤’ ä½“æ„Ÿæ¸©åº¦ï¼š27.38Â°C  
â˜ï¸ å¤©æ°”çŠ¶å†µï¼šé˜´ï¼Œå¤šäº‘  
ðŸ’§ æ¹¿åº¦ï¼š30%  
ðŸ’¨ é£Žé€Ÿï¼š0.43 m/s  
â²ï¸ æ°”åŽ‹ï¼š1018 hPa  

åŒ—äº¬çŽ°åœ¨çš„å¤©æ°”æ˜¯é˜´å¤©ï¼Œå¤šäº‘ï¼Œæ°”æ¸©é€‚ä¸­ï¼Œæ¹¿åº¦è¾ƒä½Žï¼Œé£ŽåŠ›è¾ƒå°ï¼Œæ°”åŽ‹æ­£å¸¸ã€‚è¿™æ ·çš„å¤©æ°”æ¡ä»¶é€‚åˆè¿›è¡Œæˆ·å¤–è¿åŠ¨ã€‚
```

#### å¤šå¤©é¢„æŠ¥
```bash
python3 main.py --days 3 åŒ—äº¬
```

è¾“å‡ºï¼š
```
ðŸ“Š åŒ—äº¬æœªæ¥3å¤©å¤©æ°”é¢„æŠ¥:
ä»¥ä¸‹æ˜¯åŒ—äº¬æœªæ¥3å¤©çš„è¯¦ç»†å¤©æ°”é¢„æŠ¥ï¼š

### 2025å¹´9æœˆ25æ—¥ï¼ˆä»Šå¤©ï¼‰
- **ä¸Šåˆ**ï¼š
  - ðŸŒ¤ï¸ å¤©æ°”çŠ¶å†µï¼šå¤šäº‘
  - ðŸŒ¡ï¸ æ¸©åº¦ï¼š28.19Â°C
  - ðŸ’§ æ¹¿åº¦ï¼š29%
  - ðŸ’¨ é£Žé€Ÿï¼š0.66 m/s

- **ä¸‹åˆ**ï¼š
  - ðŸŒ¤ï¸ å¤©æ°”çŠ¶å†µï¼šé˜´ï¼Œå¤šäº‘
  - ðŸŒ¡ï¸ æ¸©åº¦ï¼š23.07Â°C
  - ðŸ’§ æ¹¿åº¦ï¼š43%
  - ðŸ’¨ é£Žé€Ÿï¼š0.68 m/s

- **æ™šä¸Š**ï¼š
  - ðŸŒ¤ï¸ å¤©æ°”çŠ¶å†µï¼šé˜´ï¼Œå¤šäº‘
  - ðŸŒ¡ï¸ æ¸©åº¦ï¼š20.33Â°C
  - ðŸ’§ æ¹¿åº¦ï¼š52%
  - ðŸ’¨ é£Žé€Ÿï¼š1.64 m/s

---

### 2025å¹´9æœˆ26æ—¥ï¼ˆæ˜Žå¤©ï¼‰
- **ä¸Šåˆ**ï¼š
  - ðŸŒ¤ï¸ å¤©æ°”çŠ¶å†µï¼šé˜´ï¼Œå¤šäº‘
  - ðŸŒ¡ï¸ æ¸©åº¦ï¼š28.23Â°C
  - ðŸ’§ æ¹¿åº¦ï¼š31%
  - ðŸ’¨ é£Žé€Ÿï¼š2.65 m/s

- **ä¸‹åˆ**ï¼š
  - ðŸŒ¤ï¸ å¤©æ°”çŠ¶å†µï¼šå¤šäº‘
  - ðŸŒ¡ï¸ æ¸©åº¦ï¼š21.87Â°C
  - ðŸ’§ æ¹¿åº¦ï¼š54%
  - ðŸ’¨ é£Žé€Ÿï¼š1.11 m/s

- **æ™šä¸Š**ï¼š
  - ðŸŒ¤ï¸ å¤©æ°”çŠ¶å†µï¼šé˜´ï¼Œå¤šäº‘
  - ðŸŒ¡ï¸ æ¸©åº¦ï¼š20.02Â°C
  - ðŸ’§ æ¹¿åº¦ï¼š57%
  - ðŸ’¨ é£Žé€Ÿï¼š0.54 m/s

---

### 2025å¹´9æœˆ27æ—¥ï¼ˆåŽå¤©ï¼‰
- **ä¸Šåˆ**ï¼š
  - ðŸŒ§ï¸ å¤©æ°”çŠ¶å†µï¼šå°é›¨
  - ðŸŒ¡ï¸ æ¸©åº¦ï¼š16.59Â°C
  - ðŸ’§ æ¹¿åº¦ï¼š91%
  - ðŸ’¨ é£Žé€Ÿï¼š1.04 m/s

- **ä¸‹åˆ**ï¼š
  - ðŸŒ§ï¸ å¤©æ°”çŠ¶å†µï¼šå°é›¨
  - ðŸŒ¡ï¸ æ¸©åº¦ï¼š16.96Â°C
  - ðŸ’§ æ¹¿åº¦ï¼š90%
  - ðŸ’¨ é£Žé€Ÿï¼š1.72 m/s

- **æ™šä¸Š**ï¼š
  - ðŸŒ¤ï¸ å¤©æ°”çŠ¶å†µï¼šå¤šäº‘
  - ðŸŒ¡ï¸ æ¸©åº¦ï¼š15.72Â°C
  - ðŸ’§ æ¹¿åº¦ï¼š96%
  - ðŸ’¨ é£Žé€Ÿï¼š0.71 m/s

è¯·æ³¨æ„ï¼Œæœªæ¥å‡ å¤©å¯èƒ½ä¼šæœ‰é™é›¨ï¼Œå»ºè®®å¤–å‡ºæºå¸¦é›¨å…·ã€‚ç¥æ‚¨å‡ºè¡Œé¡ºåˆ©ï¼
```

#### å›½é™…åŸŽå¸‚é¢„æŠ¥ç¤ºä¾‹
```bash
python3 main.py --days 3 Paris
```

è¾“å‡ºï¼š
```
ðŸ“Š Parisæœªæ¥3å¤©å¤©æ°”é¢„æŠ¥:
ä»¥ä¸‹æ˜¯å·´é»Žæœªæ¥3å¤©çš„è¯¦ç»†å¤©æ°”é¢„æŠ¥ï¼š

### ç¬¬ä¸€å¤©ï¼ˆ2025-09-25ï¼‰
- **ä¸Šåˆ**ï¼š
  ðŸŒ¤ï¸ å¤©æ°”ï¼šé˜´ï¼Œå¤šäº‘
  ðŸŒ¡ï¸ æ¸©åº¦ï¼š9.87Â°C
  ðŸ’§ æ¹¿åº¦ï¼š86%
  ðŸ’¨ é£Žé€Ÿï¼š2.51 m/s

- **ä¸‹åˆ**ï¼š
  ðŸŒ¤ï¸ å¤©æ°”ï¼šé˜´ï¼Œå¤šäº‘
  ðŸŒ¡ï¸ æ¸©åº¦ï¼š10.81Â°C
  ðŸ’§ æ¹¿åº¦ï¼š66%
  ðŸ’¨ é£Žé€Ÿï¼š3.1 m/s

- **æ™šä¸Š**ï¼š
  ðŸŒ¤ï¸ å¤©æ°”ï¼šé˜´ï¼Œå¤šäº‘
  ðŸŒ¡ï¸ æ¸©åº¦ï¼š10.04Â°C
  ðŸ’§ æ¹¿åº¦ï¼š73%
  ðŸ’¨ é£Žé€Ÿï¼š2.47 m/s

#### åŸŽå¸‚æ¯”è¾ƒç¤ºä¾‹
```bash
python3 main.py --compare Tokyo London
```

è¾“å‡ºï¼š
```
ðŸ™ï¸  åŸŽå¸‚å¤©æ°”æ¯”è¾ƒç»“æžœ:
ðŸŒ¡ï¸ **Tokyoå½“å‰æ¸©åº¦**: 26.85Â°C  
ðŸ¤’ **ä½“æ„Ÿæ¸©åº¦**: 27.51Â°C  
â˜€ï¸ **å¤©æ°”çŠ¶å†µ**: æ™´  
ðŸ’§ **æ¹¿åº¦**: 54%  
ðŸ’¨ **é£Žé€Ÿ**: 6.6 m/s  
â²ï¸ **æ°”åŽ‹**: 1017 hPa  

---

ðŸŒ¡ï¸ **Londonå½“å‰æ¸©åº¦**: 8.64Â°C  
ðŸ¤’ **ä½“æ„Ÿæ¸©åº¦**: 6.76Â°C  
â˜ï¸ **å¤©æ°”çŠ¶å†µ**: å¤šäº‘  
ðŸ’§ **æ¹¿åº¦**: 77%  
ðŸ’¨ **é£Žé€Ÿ**: 3.19 m/s  
â²ï¸ **æ°”åŽ‹**: 1025 hPa  

### æ€»ç»“ï¼š
- **æ¸©åº¦å¯¹æ¯”**ï¼šTokyoçš„æ°”æ¸©æ˜Žæ˜¾é«˜äºŽLondonï¼Œç›®å‰æ˜¯æ¸©æš–çš„å¤©æ°”ï¼Œè€ŒLondonåˆ™è¾ƒä¸ºå‡‰çˆ½ã€‚
- **å¤©æ°”çŠ¶å†µ**ï¼šTokyoæ˜¯æ™´å¤©ï¼Œé€‚åˆæˆ·å¤–æ´»åŠ¨ï¼›Londonåˆ™æ˜¯å¤šäº‘ï¼Œå¯èƒ½æœ‰è½»å¾®çš„é˜´å¤©å½±å“ã€‚
- **æ¹¿åº¦å’Œé£Žé€Ÿ**ï¼šTokyoçš„æ¹¿åº¦è¾ƒä½Žï¼Œé£Žé€Ÿè¾ƒé«˜ï¼›Londonçš„æ¹¿åº¦è¾ƒé«˜ï¼Œé£Žé€Ÿè¾ƒä½Žã€‚
- **æ°”åŽ‹**ï¼šTokyoçš„æ°”åŽ‹ç•¥ä½ŽäºŽLondonã€‚

å¦‚éœ€æ›´è¯¦ç»†çš„å¤©æ°”ä¿¡æ¯ï¼Œè¯·éšæ—¶å‘ŠçŸ¥ã€‚
```

## ðŸ” æŠ€æœ¯æž¶æž„

```
ç”¨æˆ·è¾“å…¥ â†’ WeatherAgent â†’ å·¥å…·é€‰æ‹© â†’ OpenWeatherMap API â†’ æ•°æ®å¤„ç† â†’ æ™ºèƒ½å›žå¤
                             â†³ Qwen3-Maxæ¨¡åž‹
```

## ðŸ“ å¼€å‘è¯´æ˜Ž

### æ‰©å±•æ–°å·¥å…·
åœ¨ `weather_tools.py` ä¸­æ·»åŠ æ–°çš„å·¥å…·å‡½æ•°ï¼š
```python
@tool
def new_weather_tool(self, params):
    """å·¥å…·æè¿°"""
    # å®žçŽ°é€»è¾‘
    return result
```

### è‡ªå®šä¹‰æ¨¡åž‹é…ç½®
ç¼–è¾‘ `model_config.py` è°ƒæ•´æ¨¡åž‹å‚æ•°ï¼š
```python
def get_qwen_model():
    return ChatOpenAI(
        model="qwen-turbo",
        temperature=0.1,    # è°ƒæ•´åˆ›ä½œæ€§
        max_tokens=2000     # è°ƒæ•´å“åº”é•¿åº¦
    )
```

## âš ï¸ æ³¨æ„äº‹é¡¹

1. **APIé™åˆ¶**: OpenWeatherMapå…è´¹ç‰ˆæœ‰è°ƒç”¨é™åˆ¶ï¼Œè¯·åˆç†ä½¿ç”¨
2. **å¯†é’¥å®‰å…¨**: ä¸è¦å°†APIå¯†é’¥æäº¤åˆ°ç‰ˆæœ¬æŽ§åˆ¶ç³»ç»Ÿ
3. **ç½‘ç»œè¦æ±‚**: éœ€è¦ç¨³å®šçš„ç½‘ç»œè¿žæŽ¥è®¿é—®APIæœåŠ¡
4. **åœ°åŸŸé™åˆ¶**: æŸäº›åœ°åŒºå¯èƒ½éœ€è¦VPNè®¿é—®å¤–éƒ¨æœåŠ¡


## ðŸ™ è‡´è°¢

- [LangChain](https://github.com/langchain-ai/langchain) - ä¼˜ç§€çš„LLMåº”ç”¨æ¡†æž¶
- [OpenWeatherMap](https://openweathermap.org/) - æä¾›å‡†ç¡®çš„å¤©æ°”æ•°æ®
- [Alibaba Cloud DashScope](https://dashscope.aliyuncs.com/) - å¼ºå¤§çš„Qwenæ¨¡åž‹æœåŠ¡

---

**å¼€å§‹ä½¿ç”¨æ™ºèƒ½å¤©æ°”é¢„æŠ¥Agentï¼Œè®©å¤©æ°”æŸ¥è¯¢æ›´ä¾¿æ·ï¼** ðŸŒˆ